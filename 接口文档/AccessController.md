# AccessController介绍

## 总体介绍

本控制器中包含了跟管理员权限有关的一些操作

## 接口总览

|接口|方法|数据|返回|作用|
|:-------|:-------|:-------|:-------|:-------|
|/api/Access/IAmMaster|Get|null|Json|获取最高级管理员，只有管理员的任免权|
|/api/Access/GiveYou|Post|Json|Json|管理员的升级|
|/api/Access/ReturnToMe|Post|Json|Json|管理员的降级|
|/api/Access/SeeMyAccess|Get|null|Json|获取我的权限|
|/api/Access/SeeAccess|Get|Json|Json|获取权限列表|


## 接口详情

### /api/Access/IAmMaster

方法:Get

返回 `{ "result" : 代码}`

|代码|含义|
|:------|:------|
|0|失败，未登录|
|1|成功|
|2|失败，已经是最高级权限|
|3|失败,服务器错误|
|4|失败,服务器错误,保存未成功|


### /api/Access/GiveYou

方法:Post

数据样例:

`{`
`"stuid": "14020031094", //学号`
`"accessclass": -1   //权限 -1:板块总管理 >0对应板块id`
`}`

返回 `{ "result" : 代码}`

|代码|含义|
|:------|:------|
|0|失败，未登录|
|1|成功|
|2|失败，并不是最高级权限|
|3|失败,服务器错误|
|4|失败,服务器错误,保存未成功|
|5|失败,查找不到该权限|
|6|失败,已有该权限或更高级权限|


### /api/Access/ReturnToMe

方法:Post

数据样例:

`{`
`"stuid": "14020031094", //学号`
`"accessclass": -1   //权限 -1:板块总管理 >0对应板块id`
`}`

返回 `{ "result" : 代码}`

|代码|含义|
|:------|:------|
|0|失败，未登录|
|1|成功|
|2|失败，并不是最高级权限|
|3|失败,服务器错误|
|4|失败,服务器错误,保存未成功|
|5|失败,查找不到该权限|
|6|失败,不拥有权限|

### /api/Access/SeeMyAccess

方法:Get

返回 
1 权限列表
`[{"id":1,"studentid":"14020031094","classid":-2,"createtime":"2017-05-09T18:49:19.393"},{"id":4,"studentid":"14020031094","classid":-1,"createtime":"2017-05-09T20:26:59.78"}]`

2  `{ "result" : 代码}`

|代码|含义|
|:------|:------|
|0|失败，未登录|
|1|成功,但是没有数据|

### /api/Access/SeeAccess 

方法:Post

数据样例:`{"access": -3}// -3 所有人 其余数字为对应权限制`

返回
1.权限列表
`[{"id":1,"studentid":"14020031094","classid":-2,"createtime":"2017-05-09T18:49:19.393"},{"id":4,"studentid":"14020031094","classid":-1,"createtime":"2017-05-09T20:26:59.78"}]`

2  `{ "result" : 代码}`

|代码|含义|
|:------|:------|
|0|失败，未登录|
|1|成功,但是没有数据|
|2|失败，你不是最高级管理员|